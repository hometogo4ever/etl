import JSEncrypt from "node-jsencrypt";

function loginCryption(encryptedData, privateKey) {
  var n = new JSEncrypt();
  n.setPrivateKey(privateKey);
  var r = n.decrypt(encryptedData);
  return r;
}

// 사용 예시
const myEncrypted =
  "Pt4BI9dFjeWrN+SWwEzhfNw4z/ZMv5wt5ElaWDWPxq+wtTZ+Ug1+RNvRlga1KgjF0ha6/H3BC2Ito5S1MccRogcbb+ZRGGl0TvRl2yv8HTkjVcCGVL+6ZicFl2Wt/W6HrK2FEjgYbsXqO+YnmbbFHb+ffhNZ2hS0DgUIUu1RqQpryUS3I+gVydrtJEASa97/KVvHt8cjGOlOB1lfNkeA5atmn3F+6zjBil3F8CseWOEpzs1VN2QVJ7nWqfPFagrQJqt6nsnalziTK0etQO/FLhd48Ms4N2uV48PkDDQoRsrozaKGLKa65KH+kR3X6UzGlgS/4FYOvOAwH6rgyWtEAg=="; // 서버 혹은 다른 곳에서 받은 암호문
const myPrivateKey = `
-----BEGIN RSA PRIVATE KEY-----MIIEpAIBAAKCAQEAzftR1fqrvYrTzXp/FKM4uK53l7x1kridTihhP1NWS9XvNi08zW9CT0ATpDUhB0E/R5W2izOlNHHNaHjq/X0ctBD5jA9TAl26WhyOMF0spZVV+9nSo3k5P9RPPxTz6Kop3dXsa5SMcIK5+E/D/W6WUyhgQyc2NKVgne8LlJ8m4yTaWwL5Dzi0RFk1qO/xdkYnSPrzLtGxwcCfJLadfBYIvQOl3sOQ2cRLlamhYGrnRuOMsQlVOb49s2fj9C3/D5d4mTpgCumz5TJRY5+UORHQjfRHxSNh6NSczvR9OzkQH1XGVynL1BHGp7BmP5s8qkq5NSYB+p1Jn/FpNyzP6y4PqwIDAQABAoIBADUh0803WN+OlO3W4Drpk3MIBe9M/KL5HhKQFe2oyITNTWQTLTDstxUMOUTNM5TUfscvViP4EXBCvrJpJmx2vlWwXz6CoW3l0XD3FrJhBmg76i8J0+y5E0xkroBeHkBwzFXdnZtueP94qRHlOXAA+6O9sX8A+VmBIzf59mnC19wVKd+SE+ErGkErOIxBp1dDjlMftkfAkaR7aCQMXU0f1pqLJk7HsbWCZQSRCXTVRqPA8MoHydRj9lzNeHb9EqtITUVtmibPAx89E+IQyowNZ/Hl92SAJNbyQtVUuqzMImH2Hn8apL6JmwJDD9Bz6T1LiJWVCTJVUiflPrsJolqQ3ykCgYEA8iWDgE8+Q2WkJko52ys5LeRq0oa5BbumTR2kLLdXaGDYYttvu1gr38IuXg3iOJa9X8RalJ6nCUksGHcw+h88+5OUNtBelx24HN7YnR/YgQ0Cu3hPo7qwNWUt/NrXyh/3rmtROyubOcwb/ujKkRlMHRe2jaAov0HdCn3PZZsO0X0CgYEA2cQig64Et4ZxrQ0tB6Kz2JjSjkXktXUaggKkeodV+WHxP9093lywciQ5vKdXXj7h6m4a3RKi3ILEu6gIdTEfWEXjtdwTeu/3ybWyCvgXOQLUiz+F5oGBX3gT0uZ6ZMhfxHZcZ/7Co0WksmW8TpE9hH1MlR5Aj4704JcLWNWbrkcCgYEA6JpUiaqVWtSGLCndDcWldYoXewfjL7ij9SvmCvZLRn7RHZVA7SuzaYv0UnDvwAA9BYNup5kHR4o8i3vjVkEvqVKIa2cZlfv8Ye9HERgIN18yIrddeR/aKFB7LotiAk1W9Pst2rL2tzx0IBeqjltInCGtQLp6qc4w8OUNlsKuJ1kCgYA25+j74oh17YQD6eqMnk1SM1YDYUQFLH1+gkQOUMkwk61MOPA8fIpQfSnBkz/IF3rGrPRBAU3m42HPHtLjGXuZuiVr2Q1gVdjYFuPJODxCt5/3bBDKyaRg+dmlt07s0kizNFSgM+/HUuvvvw73kE8+dIk2n+YPTDAZ4HuP7mvOSQKBgQDCHy+f+x+XrgtYXyux30THAKoiSSVe9J+YaNOEXQOgIdc9Q4M2I4r+xaWCSMt4tckfT3BlJy8COOsvPyF4YfQKJAiDbkXK5/h2o3dYxN0K2QVsvzPGcmhHBq7eDD6punQhUT383EJ4AbeBoJAg3/4mqDZy+Lb23sPapN8HL4xfaA==-----END RSA PRIVATE KEY-----`;

try {
  const result = loginCryption(myEncrypted, myPrivateKey);
  console.log("복호화 결과:", result);
} catch (error) {
  console.error("복호화 실패:", error);
}
